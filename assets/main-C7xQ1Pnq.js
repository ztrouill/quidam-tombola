(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();let c=250;const E=20;let a=!1,u=null;function L(e,n){let o=0;return e==-1?o=Math.random()*100:o=window.innerWidth+Math.random()-n/2,o}function I(){return new Promise(e=>{if(a)return console.log("not running"),!1;a=!0;const n=document.getElementById("resultat");document.addEventListener("click",()=>{c=Math.max(E,Math.round(c*.8)),console.log("speed clic = "+c)}),document.addEventListener("keydown",i=>{i.key=="Enter"&&(a=!1)});function o(){u=setTimeout(()=>{const i=Math.floor(Math.random()*94+32);if(n.innerHTML=String.fromCharCode(i),!a)return clearTimeout(u),u=null,c=250,e(),!0;o()},c)}o()})}function T(e){const n=document.getElementsByClassName("bg-line");for(let i=0;i<n.length;i++){let d=function(){s+=r,n[i].style.transform=t==1?`translateX(${s}px)`:`translateX(-${s}px)`,requestAnimationFrame(d)};var o=d;const t=Math.random()<.5?1:-1,r=Math.random()*.8;let s=L(t,n[i].offsetWidth);d()}}let l=[],g=[],m=!1;const h=document.getElementById("resultat");function f(e){localStorage.setItem("listTicket",e)}function B(e){localStorage.setItem("listOut",e)}function M(){const e=Number(document.getElementById("number").value);if(!e||e<=0)return alert("rentre un nombre positif petit malin"),!1;l.length=0;for(let n=1;n<=e;n++)l.push(n);return document.getElementById("remaining").innerHTML=l.join(", "),f(l),!0}function k(){l.push(l.length+1),document.getElementById("remaining").innerHTML=l.join(", "),f(l)}function v(){const e=localStorage.getItem("listTicket").split(","),n=Math.floor(Math.random()*e.length),o=e[n];if(!o){alert("Il n'y a pas de ticket");return}g.push(o),e.splice(n,1),f(e),B(g),document.getElementById("resultat").innerHTML=o}function b(){document.addEventListener("keydown",e=>{e.key=="Backspace"&&(console.log("yo"),h.innerHTML="?")})}function H(){m||(m=!0,I().then(()=>{m=!1,v(),b()}))}function w(){localStorage.getItem("listTicket")&&(document.getElementById("remaining").innerHTML=localStorage.getItem("listTicket").split(",")),localStorage.getItem("listOut")&&(document.getElementById("out").innerHTML=localStorage.getItem("listOut").split(","))}function S(){localStorage.clear(),document.getElementById("remaining").innerHTML="",document.getElementById("out").innerHTML=""}function C(){document.getElementById("backoffice")?(w(),document.getElementById("add").addEventListener("click",M),document.getElementById("counter").addEventListener("click",k),document.getElementById("reset").addEventListener("click",S)):h.addEventListener("click",H)}function O(){C()}function y(){const e=document.querySelector("#background"),n=e.offsetHeight,i=Math.ceil(n/45),t="QUIDAM - La Grande dernière (de l'année) - 18 Décembre 2025 - La Pente - ";for(let r=0;r<i;r++){const s=document.createElement("div");s.className="bg-line",s.style.transform=`translateX(-${Math.random()*25}%)`,s.textContent=t.repeat(2e3),e.appendChild(s)}T()}function p(e,n){const o=`/src/assets/${e}.png`,i=document.getElementsByClassName("bg-svg")[n],t=document.createElement("img");t.setAttribute("src",o),i.appendChild(t)}async function x(){const e=document.getElementsByClassName("bg-svg"),i=await(await fetch("/src/assets/sunshine.svg")).text();for(let t=0;t<e.length;t++)e[t].innerHTML=i;p("quidam-logo",0),p("smile",1)}window.addEventListener("load",()=>{O(),y(),x()});window.addEventListener("resize",y);
