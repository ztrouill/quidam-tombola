(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();let s=250;const y=20;let a=!1,d=null;function E(e,t){let i=0;return e==-1?i=Math.random()*100:i=window.innerWidth+Math.random()-t/2,i}function L(){return new Promise(e=>{if(a)return console.log("not running"),!1;a=!0;const t=document.getElementById("resultat");document.addEventListener("click",()=>{s=Math.max(y,Math.round(s*.8)),console.log("speed clic = "+s)}),document.addEventListener("keydown",o=>{o.key=="Enter"&&(a=!1)});function i(){d=setTimeout(()=>{const o=Math.floor(Math.random()*94+32);if(t.innerHTML=String.fromCharCode(o),!a)return clearTimeout(d),d=null,s=250,e(),!0;i()},s)}i()})}function I(e){const t=document.getElementsByClassName("bg-line");for(let o=0;o<t.length;o++){let u=function(){l+=r,t[o].style.transform=n==1?`translateX(${l}px)`:`translateX(-${l}px)`,requestAnimationFrame(u)};var i=u;const n=Math.random()<.5?1:-1,r=Math.random()*.8;let l=E(n,t[o].offsetWidth);u()}}let c=[],g=[],m=!1;const h=document.getElementById("resultat");function f(e){localStorage.setItem("listTicket",e)}function T(e){localStorage.setItem("listOut",e)}function B(){const e=Number(document.getElementById("number").value);if(!e||e<=0)return alert("rentre un nombre positif petit malin"),!1;c.length=0;for(let t=1;t<=e;t++)c.push(t);return document.getElementById("remaining").innerHTML=c.join(", "),f(c),!0}function M(){c.push(c.length+1),document.getElementById("remaining").innerHTML=c.join(", "),f(c)}function k(){const e=localStorage.getItem("listTicket").split(","),t=Math.floor(Math.random()*e.length),i=e[t];if(!i){alert("Il n'y a pas de ticket");return}g.push(i),e.splice(t,1),f(e),T(g),document.getElementById("resultat").innerHTML=i}function v(){document.addEventListener("keydown",e=>{e.key=="Backspace"&&(console.log("yo"),h.innerHTML="?")})}function b(){m||(m=!0,L().then(()=>{m=!1,k(),v()}))}function H(){localStorage.getItem("listTicket")&&(document.getElementById("remaining").innerHTML=localStorage.getItem("listTicket").split(",")),localStorage.getItem("listOut")&&(document.getElementById("out").innerHTML=localStorage.getItem("listOut").split(","))}function O(){localStorage.clear(),document.getElementById("remaining").innerHTML="",document.getElementById("out").innerHTML=""}function S(){document.getElementById("backoffice")?(H(),document.getElementById("add").addEventListener("click",B),document.getElementById("counter").addEventListener("click",M),document.getElementById("reset").addEventListener("click",O)):h.addEventListener("click",b)}function C(){S()}function w(){const e=document.querySelector("#background"),t=e.offsetHeight,o=Math.ceil(t/45),n="QUIDAM - La Grande dernière (de l'année) - 18 Décembre 2025 - La Pente - ";for(let r=0;r<o;r++){const l=document.createElement("div");l.className="bg-line",l.style.transform=`translateX(-${Math.random()*25}%)`,l.textContent=n.repeat(2e3),e.appendChild(l)}I()}function p(e){const t=e==0?"/quidam-logo.png":"/smile.png",i=document.getElementsByClassName("bg-svg")[e],o=document.createElement("img");console.log("url = "+t),o.setAttribute("src",t),i.appendChild(o)}async function x(){const e=document.getElementsByClassName("bg-svg"),o=await(await fetch("/sunshine.svg")).text();for(let n=0;n<e.length;n++)e[n].innerHTML=o;p(0),p(1)}window.addEventListener("load",()=>{C(),document.getElementById("front")&&(console.log("yes"),w(),x())});console.log("VITE BUILD OK");
